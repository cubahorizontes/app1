<div *ngIf="agentToShow">
    <ion-card class="shadow-lg">
        <ion-card-content class="py-0">
            <ion-item class="ion-no-padding z-index-0" lines="none">
                <ion-label>
                    <h2>({{appService.secvars.user.phoneCodeNumber}}){{appService.secvars.user.phone}}</h2>
                </ion-label>
                <h1 slot="end" class="text-primary">${{appService.secvars.user.balance}}</h1>
            </ion-item>
        </ion-card-content>
    </ion-card>
    <ion-card class="shadow-lg">
        <ion-card-content>
            <div class="row text-center">
                <div class="col-4 border-right border-bottom py-3">
                    <div class="h4 mb-0 text-success">{{agentToShow.data.opAccepted}}</div>
                    <span class="small text-gray">Completadas</span>
                </div>
                <div class="col-4 border-right border-bottom py-3">
                    <div class="h4 mb-0 text-warning">{{agentToShow.data.opPending}}</div>
                    <span class="small text-gray">Pendientes</span>
                </div>
                <div class="col-4 border-bottom py-3">
                    <div class="h4 mb-0 text-danger">{{agentToShow.data.opFaileds}}</div>
                    <span class="small text-gray">Fallidas</span>
                </div>
            </div>
            <div class="mx-auto my-3" (click)="getProfile()">
                <ion-img src="../../assets/images/security/icon_logo.png" class="icon-logo"></ion-img>
            </div>
            <div class="row text-center" *ngIf="agentToShow && appService.isPostSale()">
                <div class="col-6 border-right border-top py-3">
                    <div class="h4 mb-0 text-success">${{totalSellingCost}}</div>
                    <span class="small text-gray">Total de ventas</span>
                </div>
                <div class="col-6 border-top py-3">
                    <div class="h4 mb-0 text-primary">${{totalSalePrice}}</div>
                    <span class="small text-gray">DÃ©bito</span>
                </div>
                <div class="col-12 border-top py-4">
                    <div class="h4 mb-0 text-info">${{totalEarnings}}</div>
                    <span class="small text-gray">Ganancias</span>
                </div>
            </div>
        </ion-card-content>
    </ion-card>
    <ion-toolbar class="pl-3 pr-3">
        <ion-item class="ion-no-padding">
            <ion-label>Fecha inicio</ion-label>
            <ion-datetime monthShortNames="En, Feb, Mar, Abr, May, Jun, Jul, Ag, Sep, Oct, Nov, Dic"
                          [pickerOptions]="customPickerOptionsStart" value="{{startDate|date: 'yyyy-MM-dd'}}"
                          min="1990-04-16" max="{{endDate|date: 'yyyy-MM-dd'}}"
                          placeholder="Seleccione una fecha"></ion-datetime>
        </ion-item>
        <ion-item class="ion-no-padding">
            <ion-label>Fecha fin</ion-label>
            <ion-datetime monthShortNames="En, Feb, Mar, Abr, May, Jun, Jul, Ag, Sep, Oct, Nov, Dic"
                          [pickerOptions]="customPickerOptionsEnd"
                          value="{{endDate|date: 'yyyy-MM-dd'}}" min="{{startDate|date: 'yyyy-MM-dd'}}"
                          max="{{today|date: 'yyyy-MM-dd'}}" placeholder="Seleccione una fecha"></ion-datetime>
        </ion-item>
    </ion-toolbar>
</div>

<ion-spinner *ngIf="!agentToShow" color="primary" name="lines" class="loading"></ion-spinner>
